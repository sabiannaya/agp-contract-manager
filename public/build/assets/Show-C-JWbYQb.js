import{d as U,u as A,c as u,b as a,e as n,f as t,h as L,g as e,i as r,j as d,t as s,k as m,m as i,F as C,p as w,q as y}from"./app-D6ZExuG4.js";import{_ as S}from"./Heading.vue_vue_type_script_setup_true_lang-C_Qaqaft.js";import{_ as f}from"./index-MxVPBNtp.js";import{_ as D}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BAMJN8k7.js";import{_ as v,a as h,b as x,c as g}from"./CardTitle.vue_vue_type_script_setup_true_lang-D4csAZoX.js";import{_ as F}from"./StatusBadge.vue_vue_type_script_setup_true_lang-DTLVhpcY.js";import{u as q}from"./useDateFormat-BThD_v7S.js";import{i as z,F as B,d as E,u as O,h as R,j as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-DhQ7Babn.js";import{A as H}from"./arrow-left-BcIyfv1Q.js";import{P as J}from"./pencil-BG-Ex8ol.js";import{C as K}from"./calendar-BDP9TT7_.js";import{U as M}from"./user-CQweja3Q.js";import"./index-Dnaiof97.js";import"./VisuallyHidden-D-NgPM13.js";import"./useForwardExpose-6n7ayWvE.js";import"./useForwardPropsEmits-BgLpAiDO.js";import"./index-BDqSilVs.js";import"./createLucideIcon-BXqO2veZ.js";const Q={class:"flex h-full flex-1 flex-col gap-6 p-6"},W={class:"flex items-center justify-between"},X={class:"flex items-center gap-4"},Y={class:"flex items-center gap-2"},Z={class:"grid gap-6 lg:grid-cols-2"},tt={class:"grid gap-4 sm:grid-cols-2"},et={class:"text-muted-foreground text-sm"},st={class:"font-medium"},ot={class:"text-muted-foreground text-sm"},ct={class:"font-medium"},nt={class:"text-muted-foreground text-sm"},at={class:"text-lg font-semibold"},rt={class:"text-muted-foreground text-sm"},it={key:0,class:"border-t pt-4"},dt={class:"text-muted-foreground mb-2 text-sm"},lt={key:0,class:"flex flex-wrap gap-2"},mt={key:1,class:"text-muted-foreground text-sm"},ut={class:"grid gap-4 sm:grid-cols-2"},_t={class:"text-muted-foreground text-sm"},ft={class:"font-medium"},vt={class:"text-muted-foreground text-sm"},ht={class:"font-medium"},xt={key:0,class:"sm:col-span-2"},gt={class:"text-muted-foreground text-sm"},pt={class:"font-medium"},yt={key:1},bt={class:"text-muted-foreground text-sm"},kt={class:"font-medium"},$t={key:2},Ct={class:"text-muted-foreground text-sm"},wt={class:"font-medium"},Dt={key:0,class:"divide-y"},Ft=["onClick"],zt={class:"flex items-center gap-4"},Bt={class:"font-medium"},It={class:"text-muted-foreground text-sm"},Nt={class:"flex items-center gap-4"},jt={key:1,class:"text-muted-foreground py-8 text-center"},Tt={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},Vt={class:"text-muted-foreground text-sm"},Pt={class:"font-medium"},Ut={class:"text-muted-foreground text-sm"},At={class:"font-medium"},Lt={class:"text-muted-foreground text-sm"},St={class:"font-medium"},qt={class:"text-muted-foreground text-sm"},Et={class:"font-medium"},re=U({__name:"Show",props:{contract:{}},setup(o){const b=o,{t:c}=A(),{formatDateOnly:k,formatDateTime:$}=q(),{canUpdate:I}=O(),N=[{title:c("nav.contracts"),href:z().url},{title:b.contract.number,href:"#"}];function j(){y.get(z().url)}function T(){y.get(R(b.contract.id).url)}function V(_){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(_)}function P(_){y.get(G(_).url)}return(_,Ot)=>(r(),u(E,{breadcrumbs:N},{default:a(()=>[n(t(L),{title:`${t(c)("contracts.contract")} - ${o.contract.number}`},null,8,["title"]),e("div",Q,[e("div",W,[e("div",X,[n(t(D),{variant:"outline",size:"icon",onClick:j},{default:a(()=>[n(t(H),{class:"size-4"})]),_:1}),n(S,{title:o.contract.number,description:t(c)("contracts.contract_details")},null,8,["title","description"])]),e("div",Y,[n(t(F),{active:o.contract.is_active},null,8,["active"]),t(I)("contracts")?(r(),u(t(D),{key:0,onClick:T},{default:a(()=>[n(t(J),{class:"mr-2 size-4"}),d(" "+s(t(c)("common.edit")),1)]),_:1})):m("",!0)])]),e("div",Z,[n(t(v),null,{default:a(()=>[n(t(h),null,{default:a(()=>[n(t(x),null,{default:a(()=>[d(s(t(c)("contracts.contract_info")),1)]),_:1})]),_:1}),n(t(g),{class:"space-y-4"},{default:a(()=>[e("div",tt,[e("div",null,[e("p",et,s(t(c)("contracts.contract_number")),1),e("p",st,s(o.contract.number),1)]),e("div",null,[e("p",ot,s(t(c)("contracts.date")),1),e("p",ct,s(t(k)(o.contract.date)),1)]),e("div",null,[e("p",nt,s(t(c)("contracts.amount")),1),e("p",at,s(V(o.contract.amount)),1)]),e("div",null,[e("p",rt,s(t(c)("contracts.cooperation_type")),1),n(t(f),{variant:o.contract.cooperation_type==="progress"?"default":"secondary"},{default:a(()=>[d(s(t(c)(`contracts.cooperation_types.${o.contract.cooperation_type}`)),1)]),_:1},8,["variant"])])]),o.contract.cooperation_type==="progress"?(r(),i("div",it,[e("p",dt,s(t(c)("contracts.term_percentages")),1),o.contract.term_percentages?.length?(r(),i("div",lt,[(r(!0),i(C,null,w(o.contract.term_percentages,(l,p)=>(r(),u(t(f),{key:p,variant:"outline"},{default:a(()=>[d(s(t(c)("contracts.term_n",{n:p+1}))+": "+s(l)+"% ",1)]),_:2},1024))),128))])):(r(),i("p",mt,"-"))])):m("",!0)]),_:1})]),_:1}),o.contract.vendor?(r(),u(t(v),{key:0},{default:a(()=>[n(t(h),null,{default:a(()=>[n(t(x),null,{default:a(()=>[d(s(t(c)("contracts.vendor_info")),1)]),_:1})]),_:1}),n(t(g),{class:"space-y-4"},{default:a(()=>[e("div",ut,[e("div",null,[e("p",_t,s(t(c)("vendors.code")),1),e("p",ft,s(o.contract.vendor.code),1)]),e("div",null,[e("p",vt,s(t(c)("vendors.name")),1),e("p",ht,s(o.contract.vendor.name),1)]),o.contract.vendor.address?(r(),i("div",xt,[e("p",gt,s(t(c)("vendors.address")),1),e("p",pt,s(o.contract.vendor.address),1)])):m("",!0),o.contract.vendor.contact_person?(r(),i("div",yt,[e("p",bt,s(t(c)("vendors.contact_person")),1),e("p",kt,s(o.contract.vendor.contact_person),1)])):m("",!0),o.contract.vendor.tax_id?(r(),i("div",$t,[e("p",Ct,s(t(c)("vendors.tax_id")),1),e("p",wt,s(o.contract.vendor.tax_id),1)])):m("",!0)])]),_:1})]),_:1})):m("",!0)]),n(t(v),null,{default:a(()=>[n(t(h),null,{default:a(()=>[n(t(x),{class:"flex items-center gap-2"},{default:a(()=>[n(t(B),{class:"size-5"}),d(" "+s(t(c)("contracts.related_tickets"))+" ",1),n(t(f),{variant:"secondary"},{default:a(()=>[d(s(o.contract.tickets?.length||0),1)]),_:1})]),_:1})]),_:1}),n(t(g),null,{default:a(()=>[o.contract.tickets?.length?(r(),i("div",Dt,[(r(!0),i(C,null,w(o.contract.tickets,l=>(r(),i("div",{key:l.id,class:"flex cursor-pointer items-center justify-between py-4 transition-colors hover:bg-muted/50",onClick:p=>P(l.id)},[e("div",zt,[e("div",null,[e("p",Bt,s(l.number),1),e("p",It,[n(t(K),{class:"mr-1 inline size-3"}),d(" "+s(t(k)(l.date)),1)])])]),e("div",Nt,[l.documents?.length?(r(),u(t(f),{key:0,variant:"outline"},{default:a(()=>[d(s(l.documents.length)+" "+s(t(c)("documents.documents")),1)]),_:2},1024)):m("",!0),n(t(F),{active:l.status==="complete","active-text":t(c)("tickets.status_types.complete"),"inactive-text":t(c)("tickets.status_types.incomplete")},null,8,["active","active-text","inactive-text"])])],8,Ft))),128))])):(r(),i("div",jt,[n(t(B),{class:"mx-auto mb-2 size-8 opacity-50"}),e("p",null,s(t(c)("contracts.no_tickets")),1)]))]),_:1})]),_:1}),n(t(v),null,{default:a(()=>[n(t(h),null,{default:a(()=>[n(t(x),{class:"flex items-center gap-2"},{default:a(()=>[n(t(M),{class:"size-5"}),d(" "+s(t(c)("common.audit_info")),1)]),_:1})]),_:1}),n(t(g),null,{default:a(()=>[e("div",Tt,[e("div",null,[e("p",Vt,s(t(c)("common.created_by")),1),e("p",Pt,s(o.contract.created_by?.name||"-"),1)]),e("div",null,[e("p",Ut,s(t(c)("common.created_at")),1),e("p",At,s(t($)(o.contract.created_at)),1)]),e("div",null,[e("p",Lt,s(t(c)("common.updated_by")),1),e("p",St,s(o.contract.updated_by?.name||"-"),1)]),e("div",null,[e("p",qt,s(t(c)("common.updated_at")),1),e("p",Et,s(t($)(o.contract.updated_at)),1)])])]),_:1})]),_:1})])]),_:1}))}});export{re as default};
