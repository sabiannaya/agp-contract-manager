import{d as C,u as F,a as N,c as R,b as t,e as s,f as e,h as U,g as i,x as b,t as o,l as V,j as u,i as c,m,F as j,p as I,n as A,k as p,s as v}from"./app-D6ZExuG4.js";import{_ as E}from"./Heading.vue_vue_type_script_setup_true_lang-C_Qaqaft.js";import{_ as h}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BAMJN8k7.js";import{_ as y,a as $,b as k,c as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-D4csAZoX.js";import{_ as D}from"./CardDescription.vue_vue_type_script_setup_true_lang-Cyfhoq0p.js";import{_ as H}from"./Checkbox.vue_vue_type_script_setup_true_lang-CsdWR3ey.js";import{_ as M}from"./Label.vue_vue_type_script_setup_true_lang-B7C0xePR.js";import{H as g,S as O,d as T,I as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-DhQ7Babn.js";import{A as G}from"./arrow-left-BcIyfv1Q.js";import{U as J}from"./user-CQweja3Q.js";import{S as K}from"./save-1JsZ_0ZU.js";import"./useForwardPropsEmits-BgLpAiDO.js";import"./VisuallyHidden-D-NgPM13.js";import"./index-Dnaiof97.js";import"./VisuallyHiddenInput-B9UHQZYS.js";import"./useForwardExpose-6n7ayWvE.js";import"./check-C3XzR5eS.js";import"./createLucideIcon-BXqO2veZ.js";import"./index-BDqSilVs.js";const P={class:"max-w-2xl space-y-6"},Q={class:"flex items-center gap-4"},W={class:"flex size-10 items-center justify-center rounded-full bg-muted"},X={class:"text-sm font-normal text-muted-foreground"},Y={class:"space-y-3"},Z={class:"flex-1 space-y-1"},ee={key:0,class:"text-sm text-muted-foreground"},se={key:0,class:"text-center text-muted-foreground py-4"},te={key:0,class:"mt-2 text-sm text-destructive"},re={class:"flex items-center justify-end gap-4"},ze=C({__name:"Edit",props:{user:{},roles:{}},setup(d){const f=d,{t:a}=F(),z=v(()=>[{title:a("nav.users"),href:g().url},{title:f.user.name,href:"#"}]),S=v(()=>f.user.roles?.map(n=>n.id)??[]),r=N({roles:S.value});function w(n){const _=r.roles.indexOf(n);_===-1?r.roles.push(n):r.roles.splice(_,1)}function x(n){return r.roles.includes(n)}function B(){r.put(q(f.user).url)}return(n,_)=>(c(),R(T,{breadcrumbs:z.value},{default:t(()=>[s(e(U),{title:`${e(a)("users.edit_roles")} - ${d.user.name}`},null,8,["title"]),i("div",P,[i("div",Q,[s(e(b),{href:e(g)().url},{default:t(()=>[s(e(h),{variant:"ghost",size:"icon"},{default:t(()=>[s(e(G),{class:"size-4"})]),_:1})]),_:1},8,["href"]),s(E,{title:e(a)("users.edit_roles"),description:e(a)("users.edit_roles_description")},null,8,["title","description"])]),s(e(y),null,{default:t(()=>[s(e($),null,{default:t(()=>[s(e(k),{class:"flex items-center gap-3"},{default:t(()=>[i("div",W,[s(e(J),{class:"size-5 text-muted-foreground"})]),i("div",null,[i("p",null,o(d.user.name),1),i("p",X,o(d.user.email),1)])]),_:1})]),_:1})]),_:1}),i("form",{onSubmit:V(B,["prevent"]),class:"space-y-6"},[s(e(y),null,{default:t(()=>[s(e($),null,{default:t(()=>[s(e(k),null,{default:t(()=>[u(o(e(a)("users.assign_roles")),1)]),_:1}),s(e(D),null,{default:t(()=>[u(o(e(a)("users.assign_roles_description")),1)]),_:1})]),_:1}),s(e(L),null,{default:t(()=>[i("div",Y,[(c(!0),m(j,null,I(d.roles,l=>(c(),m("div",{key:l.id,class:A(["flex items-start gap-3 rounded-lg border p-4 transition-colors",x(l.id)?"border-primary bg-primary/5":"hover:bg-muted/50"])},[s(e(H),{id:`role-${l.id}`,checked:x(l.id),"onUpdate:checked":ae=>w(l.id),disabled:e(r).processing,class:"mt-1"},null,8,["id","checked","onUpdate:checked","disabled"]),i("div",Z,[s(e(M),{for:`role-${l.id}`,class:"flex items-center gap-2 font-medium cursor-pointer"},{default:t(()=>[s(e(O),{class:"size-4 text-muted-foreground"}),u(" "+o(l.name),1)]),_:2},1032,["for"]),l.description?(c(),m("p",ee,o(l.description),1)):p("",!0)])],2))),128)),d.roles.length===0?(c(),m("p",se,o(e(a)("users.no_roles_available")),1)):p("",!0)]),e(r).errors.roles?(c(),m("p",te,o(e(r).errors.roles),1)):p("",!0)]),_:1})]),_:1}),i("div",re,[s(e(b),{href:e(g)().url},{default:t(()=>[s(e(h),{type:"button",variant:"outline",disabled:e(r).processing},{default:t(()=>[u(o(e(a)("common.cancel")),1)]),_:1},8,["disabled"])]),_:1},8,["href"]),s(e(h),{type:"submit",disabled:e(r).processing},{default:t(()=>[s(e(K),{class:"mr-2 size-4"}),u(" "+o(e(r).processing?e(a)("common.saving"):e(a)("common.save")),1)]),_:1},8,["disabled"])])],32)])]),_:1},8,["breadcrumbs"]))}});export{ze as default};
