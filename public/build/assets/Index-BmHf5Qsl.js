import{d as I,u as U,r as g,w as x,q as m,c as v,b as i,e as r,f as e,h as B,g as a,i as u,x as F,t as d,k as b,m as k,F as C,p as P,j,s as D}from"./app-CuI7LdXL.js";import{_ as q}from"./Heading.vue_vue_type_script_setup_true_lang-BHjUqA3V.js";import{_ as E}from"./index-D_NX9Eof.js";import{_ as G}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BUBYiqAX.js";import{S as L,_ as O}from"./DataTable.vue_vue_type_script_setup_true_lang-BKoDKxgg.js";import{_ as T}from"./Input.vue_vue_type_script_setup_true_lang-DLaguvqt.js";import{_ as A}from"./Pagination.vue_vue_type_script_setup_true_lang-8C8Mf2Mc.js";import{_ as H}from"./Select.vue_vue_type_script_setup_true_lang-QPZrs6lE.js";import{G as f,I as J,S as K,d as M,u as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-CwkbJi7E.js";import{P as R}from"./pencil-CZinZyQI.js";import{U as W}from"./user-DjvsFMWj.js";import{u as X}from"./index-BRm__Hk1.js";import"./createLucideIcon-CX-op3lg.js";import"./Spinner.vue_vue_type_script_setup_true_lang-Br3sTUwP.js";import"./chevron-down-DGBHzGpy.js";import"./useForwardExpose-D4WvoR71.js";import"./VisuallyHidden-DxCKGmrj.js";import"./VisuallyHiddenInput-8nto7-pU.js";import"./useForwardPropsEmits-CaKxx7wQ.js";import"./check-CLJgvc3L.js";import"./index-BDqSilVs.js";const Y={class:"flex flex-col gap-6 p-6"},Z={class:"relative z-10 flex items-center gap-4"},ee={class:"relative flex-1 max-w-sm"},se={class:"overflow-x-auto"},te={class:"flex items-center gap-2"},re={class:"flex size-8 items-center justify-center rounded-full bg-muted"},ae={class:"font-medium"},oe={class:"flex flex-wrap gap-1"},le={key:0,class:"text-muted-foreground text-sm"},ie={class:"sr-only"},ne={class:"shrink-0 border-t bg-background pt-4"},Ue=I({__name:"Index",props:{users:{},roles:{},filters:{}},setup(n){const l=n,{t}=U(),{canUpdate:S}=Q(),y=[{title:t("nav.users"),href:f().url}],V=D(()=>[{value:"",label:t("common.all")},...l.roles.map(s=>({value:s.id,label:s.name}))]),p=g(l.filters.search??""),_=g(l.filters.role_id??null),z=X(s=>{m.get(f().url,{...l.filters,search:s||void 0,page:1},{preserveState:!0,preserveScroll:!0})},300);x(p,s=>z(s)),x(_,s=>{m.get(f().url,{...l.filters,role_id:s?Number(s):void 0,page:1},{preserveState:!0,preserveScroll:!0})});function $(s,c){m.get(f().url,{...l.filters,sort:s,direction:c},{preserveState:!0,preserveScroll:!0})}function w(s){m.get(s,{},{preserveState:!0,preserveScroll:!0})}const N=[{key:"name",label:t("users.name"),sortable:!0},{key:"email",label:t("users.email"),sortable:!0},{key:"roles",label:t("users.roles")},{key:"actions",label:"",class:"w-[70px]"}];return(s,c)=>(u(),v(M,{breadcrumbs:y},{default:i(()=>[r(e(B),{title:e(t)("nav.users")},null,8,["title"]),a("div",Y,[a("div",null,[r(q,{title:e(t)("nav.users"),description:e(t)("users.description")},null,8,["title","description"])]),a("div",Z,[a("div",ee,[r(e(L),{class:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),r(e(T),{modelValue:p.value,"onUpdate:modelValue":c[0]||(c[0]=o=>p.value=o),placeholder:e(t)("common.search"),class:"pl-9"},null,8,["modelValue","placeholder"])]),r(e(H),{modelValue:_.value,"onUpdate:modelValue":c[1]||(c[1]=o=>_.value=o),options:V.value,placeholder:e(t)("users.filter_role"),class:"w-48",clearable:""},null,8,["modelValue","options","placeholder"])]),a("div",se,[r(e(O),{columns:N,data:n.users.data,"sort-field":l.filters.sort,"sort-direction":l.filters.direction,"empty-text":e(t)("common.no_data"),hoverable:"",onSort:$},{"cell-name":i(({value:o})=>[a("div",te,[a("div",re,[r(e(W),{class:"size-4 text-muted-foreground"})]),a("span",ae,d(o),1)])]),"cell-roles":i(({row:o})=>[a("div",oe,[(u(!0),k(C,null,P(o.roles,h=>(u(),v(e(E),{key:h.id,variant:"secondary",class:"gap-1"},{default:i(()=>[r(e(K),{class:"size-3"}),j(" "+d(h.name),1)]),_:2},1024))),128)),o.roles?.length?b("",!0):(u(),k("span",le,d(e(t)("users.no_roles")),1))])]),"cell-actions":i(({row:o})=>[e(S)("users")?(u(),v(e(F),{key:0,href:e(J)(o).url},{default:i(()=>[r(e(G),{variant:"ghost",size:"icon",class:"size-8"},{default:i(()=>[r(e(R),{class:"size-4"}),a("span",ie,d(e(t)("common.edit")),1)]),_:1})]),_:1},8,["href"])):b("",!0)]),_:1},8,["data","sort-field","sort-direction","empty-text"])]),a("div",ne,[r(e(A),{links:n.users.links,from:n.users.from,to:n.users.to,total:n.users.total,onNavigate:w},null,8,["links","from","to","total"])])])]),_:1}))}});export{Ue as default};
