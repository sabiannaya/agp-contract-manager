import{d as F,B as I,F as N}from"./AppLayout.vue_vue_type_script_setup_true_lang-CwkbJi7E.js";import{d as L}from"./index-BDqSilVs.js";import{d as S,u as V,m as r,e as s,f as t,h as z,b as o,g as e,i as c,F as f,p as b,c as w,j as m,t as a,n as x,v as M,k,s as O}from"./app-CuI7LdXL.js";import{_ as R}from"./index-D_NX9Eof.js";import{_ as p,a as g,b as y,c as h}from"./CardTitle.vue_vue_type_script_setup_true_lang-BhpnJ5ya.js";import{_ as q}from"./CardDescription.vue_vue_type_script_setup_true_lang-D4LN3jrC.js";import{_ as A}from"./StatusBadge.vue_vue_type_script_setup_true_lang-MmS8OP8w.js";import{u as U}from"./useDateFormat-BThD_v7S.js";import{c as $}from"./createLucideIcon-CX-op3lg.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BUBYiqAX.js";import"./index-BRm__Hk1.js";import"./VisuallyHidden-DxCKGmrj.js";import"./useForwardExpose-D4WvoR71.js";import"./useForwardPropsEmits-CaKxx7wQ.js";const E=$("ReceiptIcon",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const H=$("TrendingUpIcon",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Z={class:"flex flex-col gap-6 p-6"},G={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-4"},J={class:"text-2xl font-bold"},K={class:"text-xs text-muted-foreground"},P={class:"grid gap-4 lg:grid-cols-7"},Q={class:"space-y-4"},W={class:"space-y-1"},X={class:"text-sm font-medium leading-none"},Y={class:"text-sm text-muted-foreground"},tt={class:"flex items-center gap-3"},et={class:"text-xs text-muted-foreground"},st={key:0,class:"py-8 text-center text-muted-foreground"},ot={class:"lg:col-span-3 space-y-4"},at={class:"space-y-4"},nt={class:"flex items-center gap-2"},lt={class:"text-sm text-muted-foreground"},ct={class:"text-sm font-medium"},rt={key:0,class:"py-4 text-center text-muted-foreground"},it={class:"space-y-3"},dt={class:"flex items-center gap-2"},ut={class:"text-sm"},mt={class:"text-sm font-medium"},_t={key:0,class:"py-4 text-center text-muted-foreground"},ft={class:"flex items-center justify-between"},pt={class:"text-sm text-muted-foreground"},gt={class:"text-2xl font-bold"},Nt=S({__name:"Dashboard",props:{stats:{},recentTickets:{},contractsByType:{},ticketsByStatus:{}},setup(d){const{t:n}=V(),{formatDateOnly:B}=U(),u=d,D=[{title:"Dashboard",href:L().url}];function C(_){return _==null?"-":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(_)}function v(_){return new Intl.NumberFormat("id-ID").format(_)}const T=O(()=>[{title:n("nav.vendors"),value:u.stats.vendors.total,description:`${u.stats.vendors.active} ${n("common.active").toLowerCase()}`,icon:I,color:"text-blue-500",bgColor:"bg-blue-500/10"},{title:n("nav.contracts"),value:u.stats.contracts.total,description:`${u.stats.contracts.active} ${n("common.active").toLowerCase()}`,icon:N,color:"text-green-500",bgColor:"bg-green-500/10"},{title:n("nav.tickets"),value:u.stats.tickets.total,description:`${u.stats.tickets.incomplete} ${n("tickets.status_types.incomplete").toLowerCase()}`,icon:E,color:"text-orange-500",bgColor:"bg-orange-500/10"},{title:n("dashboard.total_contract_value"),value:C(u.stats.contracts.total_amount),description:n("dashboard.active_contracts_only"),icon:H,color:"text-purple-500",bgColor:"bg-purple-500/10",isAmount:!0}]),j={complete:"bg-green-500",incomplete:"bg-yellow-500"};return(_,yt)=>(c(),r(f,null,[s(t(z),{title:"Dashboard"}),s(F,{breadcrumbs:D},{default:o(()=>[e("div",Z,[e("div",G,[(c(!0),r(f,null,b(T.value,(l,i)=>(c(),w(t(p),{key:i},{default:o(()=>[s(t(g),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:o(()=>[s(t(y),{class:"text-sm font-medium"},{default:o(()=>[m(a(l.title),1)]),_:2},1024),e("div",{class:x([l.bgColor,"rounded-full p-2"])},[(c(),w(M(l.icon),{class:x(["size-4",l.color])},null,8,["class"]))],2)]),_:2},1024),s(t(h),null,{default:o(()=>[e("div",J,a(l.isAmount?l.value:v(l.value)),1),e("p",K,a(l.description),1)]),_:2},1024)]),_:2},1024))),128))]),e("div",P,[s(t(p),{class:"lg:col-span-4"},{default:o(()=>[s(t(g),null,{default:o(()=>[s(t(y),null,{default:o(()=>[m(a(t(n)("dashboard.recent_tickets")),1)]),_:1}),s(t(q),null,{default:o(()=>[m(a(t(n)("dashboard.latest_payment_requests")),1)]),_:1})]),_:1}),s(t(h),null,{default:o(()=>[e("div",Q,[(c(!0),r(f,null,b(d.recentTickets,l=>(c(),r("div",{key:l.id,class:"flex items-center justify-between rounded-lg border p-3"},[e("div",W,[e("p",X,a(l.number),1),e("p",Y,a(l.vendor_name)+" - "+a(l.contract_number),1)]),e("div",tt,[e("span",et,a(t(B)(l.date)),1),s(t(A),{status:l.status},null,8,["status"])])]))),128)),d.recentTickets.length===0?(c(),r("div",st,a(t(n)("common.no_data")),1)):k("",!0)])]),_:1})]),_:1}),e("div",ot,[s(t(p),null,{default:o(()=>[s(t(g),null,{default:o(()=>[s(t(y),null,{default:o(()=>[m(a(t(n)("dashboard.contracts_by_type")),1)]),_:1})]),_:1}),s(t(h),null,{default:o(()=>[e("div",at,[(c(!0),r(f,null,b(d.contractsByType,(l,i)=>(c(),r("div",{key:i,class:"flex items-center justify-between"},[e("div",nt,[s(t(R),{variant:i==="progress"?"default":"secondary"},{default:o(()=>[m(a(t(n)(`contracts.types.${i}`)),1)]),_:2},1032,["variant"]),e("span",lt,a(l.count)+" "+a(t(n)("contracts.contracts").toLowerCase()),1)]),e("span",ct,a(C(l.total_amount)),1)]))),128)),Object.keys(d.contractsByType).length===0?(c(),r("div",rt,a(t(n)("common.no_data")),1)):k("",!0)])]),_:1})]),_:1}),s(t(p),null,{default:o(()=>[s(t(g),null,{default:o(()=>[s(t(y),null,{default:o(()=>[m(a(t(n)("dashboard.tickets_by_status")),1)]),_:1})]),_:1}),s(t(h),null,{default:o(()=>[e("div",it,[(c(!0),r(f,null,b(d.ticketsByStatus,(l,i)=>(c(),r("div",{key:i,class:"flex items-center justify-between"},[e("div",dt,[e("div",{class:x(["size-2 rounded-full",j[i]||"bg-gray-500"])},null,2),e("span",ut,a(t(n)(`tickets.status_types.${i}`)),1)]),e("span",mt,a(v(l)),1)]))),128)),Object.keys(d.ticketsByStatus).length===0?(c(),r("div",_t,a(t(n)("common.no_data")),1)):k("",!0)])]),_:1})]),_:1}),s(t(p),null,{default:o(()=>[s(t(g),null,{default:o(()=>[s(t(y),null,{default:o(()=>[m(a(t(n)("dashboard.documents")),1)]),_:1})]),_:1}),s(t(h),null,{default:o(()=>[e("div",ft,[e("span",pt,a(t(n)("dashboard.total_documents")),1),e("span",gt,a(v(d.stats.documents.total)),1)])]),_:1})]),_:1})])])])]),_:1})],64))}});export{Nt as default};
